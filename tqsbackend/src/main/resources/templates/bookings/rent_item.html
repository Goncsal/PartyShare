<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Rent Item</title>
    <style>
        body { font-family: sans-serif; margin: 20px; background: #f7f9fb; }
        .container { max-width: 800px; margin: 0 auto; }
        .item-card { background: white; border: 1px solid #ddd; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); }
        .item-header { display: flex; justify-content: space-between; align-items: baseline; }
        .price { font-weight: bold; color: #2c3e50; }
        form { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; align-items: center; }
        label { font-weight: 600; }
        input { padding: 8px; border: 1px solid #ccc; border-radius: 4px; }
        .full-row { grid-column: 1 / -1; }
        button { cursor: pointer; padding: 10px 14px; border: none; border-radius: 4px; background: #3498db; color: white; font-weight: 600; }
        button:hover { background: #2c82c9; }
        .alert { padding: 10px 12px; border-radius: 4px; margin-bottom: 12px; }
        .alert-success { background: #e8f8ec; border: 1px solid #a5d6a7; color: #2e7d32; }
        .alert-error { background: #fdecea; border: 1px solid #f5c2c0; color: #c0392b; }
        .actions { margin-top: 10px; }
        a { color: #3498db; }
    </style>
</head>
<body>
<div class="container">
    <h1>Rent Item</h1>

    <div th:if="${success}" class="alert alert-success" th:text="${success}"></div>
    <div th:if="${error}" class="alert alert-error" th:text="${error}"></div>

    <div th:if="${item != null}" class="item-card">
        <div class="item-header">
            <h2 th:text="${item.name}">Item Name</h2>
            <div class="price" th:text="'€' + ${item.price} + ' / day'">€0.00 / day</div>
        </div>
        <p th:text="${item.description}">Description</p>
        <p><strong>Category:</strong> <span th:text="${item.category.name}">Category</span></p>
        <p><strong>Location:</strong> <span th:text="${item.location}">Location</span></p>

        <form th:action="@{/bookings}" th:object="${bookingRequest}" method="post">
            <input type="hidden" th:field="*{itemId}" />
            <div class="full-row">
                <label for="renterId">Renter ID</label>
                <input type="number" id="renterId" th:field="*{renterId}" placeholder="Enter your user id" required />
            </div>
            <div>
                <label for="startDate">Start date</label>
                <input type="date" id="startDate" th:field="*{startDate}" required />
            </div>
            <div>
                <label for="endDate">End date</label>
                <input type="date" id="endDate" th:field="*{endDate}" required />
            </div>
            <div class="full-row actions">
                <button type="submit">Confirm Booking</button>
                <a href="/items/search" style="margin-left: 12px;">Back to search</a>
            </div>
        </form>
    </div>

    <div th:if="${item == null}" class="alert alert-error">
        Item not found.
    </div>
</div>
</body>
</html>
